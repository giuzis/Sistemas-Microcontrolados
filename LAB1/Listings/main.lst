


ARM Macro Assembler    Page 1 


    1 00000000         ; main.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         ; Prof. Guilherme Peron
    4 00000000         ; Ver 1 19/03/2018
    5 00000000         ; Ver 2 26/08/2018
    6 00000000         ; Este programa deve esperar o usuário pressionar uma ch
                       ave.
    7 00000000         ; Caso o usuário pressione uma chave, um LED deve piscar
                        a cada 1 segundo.
    8 00000000         
    9 00000000         ; ------------------------------------------------------
                       -------------------------
   10 00000000                 THUMB                        ; Instruções do tip
                                                            o Thumb-2
   11 00000000         ; ------------------------------------------------------
                       -------------------------
   12 00000000         
   13 00000000         ; Declarações EQU - Defines
   14 00000000         ; Declarações EQU - Defines
   15 00000000 0000000F 
                       PQ0     EQU              2_00001111
   16 00000000 00000006 
                       PQ1     EQU              2_00000110
   17 00000000 0000000B 
                       PQ2     EQU              2_00001011
   18 00000000 0000000F 
                       PQ3     EQU              2_00001111
   19 00000000 00000006 
                       PQ4     EQU              2_00000110
   20 00000000 0000000D 
                       PQ5     EQU              2_00001101
   21 00000000 0000000D 
                       PQ6     EQU              2_00001101
   22 00000000 00000007 
                       PQ7     EQU              2_00000111
   23 00000000 0000000F 
                       PQ8     EQU              2_00001111
   24 00000000 0000000F 
                       PQ9     EQU              2_00001111
   25 00000000         
   26 00000000 00000030 
                       PA0     EQU              2_00110000
   27 00000000 00000000 
                       PA1     EQU              2_00000000
   28 00000000 00000050 
                       PA2     EQU              2_01010000
   29 00000000 00000040 
                       PA3     EQU              2_01000000
   30 00000000 00000060 
                       PA4     EQU              2_01100000
   31 00000000 00000060 
                       PA5     EQU              2_01100000
   32 00000000 00000070 
                       PA6     EQU              2_01110000
   33 00000000 00000000 
                       PA7     EQU              2_00000000
   34 00000000 00000070 
                       PA8     EQU              2_01110000
   35 00000000 00000060 



ARM Macro Assembler    Page 2 


                       PA9     EQU              2_01100000
   36 00000000         
   37 00000000         ; ========================
   38 00000000         ; Definições de Valores
   39 00000000         ; ------------------------------------------------------
                       -------------------------
   40 00000000         ; Área de Dados - Declarações de variáveis
   41 00000000                 AREA             DATA, ALIGN=2
   42 00000000         ; Se alguma variável for chamada em outro arquivo
   43 00000000         ;EXPORT  <var> [DATA,SIZE=<tam>]   ; Permite chamar a va
                       riável <var> a 
   44 00000000         ; partir de outro arquivo
   45 00000000         ;<var> SPACE <tam>                        ; Declara uma 
                       variável de nome <var>
   46 00000000         ; de <tam> bytes a partir da primeira 
   47 00000000         ; posição da RAM  
   48 00000000         
   49 00000000         ; ------------------------------------------------------
                       -------------------------
   50 00000000         ; Área de Código - Tudo abaixo da diretiva a seguir será
                        armazenado na memória de 
   51 00000000         ;                  código
   52 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   53 00000000         
   54 00000000         ; Se alguma função do arquivo for chamada em outro arqui
                       vo 
   55 00000000                 EXPORT           Start       ; Permite chamar a 
                                                            função Start a part
                                                            ir de 
   56 00000000         ; outro arquivo. No caso startup.s
   57 00000000         
   58 00000000         ; Se chamar alguma função externa 
   59 00000000         ;IMPORT <func>              ; Permite chamar dentro dest
                       e arquivo uma 
   60 00000000         ; função <func>
   61 00000000                 IMPORT           PLL_Init
   62 00000000                 IMPORT           SysTick_Init
   63 00000000                 IMPORT           SysTick_Wait1ms
   64 00000000                 IMPORT           GPIO_Init
   65 00000000                 IMPORT           PortA_Output
   66 00000000                 IMPORT           PortQ_Output
   67 00000000                 IMPORT           PortB_Output
   68 00000000                 IMPORT           PortM_Output
   69 00000000                 IMPORT           PortJ_Input
   70 00000000         
   71 00000000         
   72 00000000         ; ------------------------------------------------------
                       -------------------------
   73 00000000         ; Função main()
   74 00000000         Start
   75 00000000 F7FF FFFE       BL               PLL_Init    ;Chama a subrotina 
                                                            para alterar o cloc
                                                            k do microcontrolad
                                                            or para 80MHz
   76 00000004 F7FF FFFE       BL               SysTick_Init ;Chama a subrotina
                                                             para inicializar o
                                                             SysTick
   77 00000008 F7FF FFFE       BL               GPIO_Init   ;Chama a subrotina 



ARM Macro Assembler    Page 3 


                                                            que inicializa os G
                                                            PIO
   78 0000000C         
   79 0000000C         ; R5 é o contador
   80 0000000C         ; R6 é o passo
   81 0000000C         ; R11 flag que diz se o botão SW1 está apertado (1) ou n
                       ão (0)
   82 0000000C         ; R10 flag que diz se o botão SW2 está apertado (1) ou n
                       ão (0)
   83 0000000C         ; R9 contador interno
   84 0000000C F04F 0A00       MOV              R10, #0
   85 00000010 F04F 0B00       MOV              R11, #0
   86 00000014 F04F 0601       MOV              R6, #1      ;Inicia com passo 1
                                                            
   87 00000018 F04F 0C01       MOV              R12, #1     ;Contador para os L
                                                            EDs
   88 0000001C         MainLoop
   89 0000001C F04F 0500       MOV              R5, #0      ;Inicia a contagem 
                                                            em 0
   90 00000020         Contagem
   91 00000020 F04F 0900       MOV              R9, #0
   92 00000024         Mostra_1s
   93 00000024 F1BB 0F01       CMP              R11, #1
   94 00000028 BF08 F000 
              F81D             BLEQ             Acrescenta_Contador
   95 0000002E F1BA 0F01       CMP              R10, #1
   96 00000032 BF08 F000 
              F825             BLEQ             Decrementa_Contador
   97 00000038         
   98 00000038 4628            MOV              R0, R5
   99 0000003A F000 F82F       BL               Mostra_Numero
  100 0000003E F1BB 0F00       CMP              R11, #0
  101 00000042 BF08 F000 
              F937             BLEQ             Le_Botao_SW1
  102 00000048 F1BA 0F00       CMP              R10, #0
  103 0000004C BF08 F000 
              F93F             BLEQ             Le_Botao_SW2
  104 00000052 F109 0901       ADD              R9, #1
  105 00000056 F1B9 0F64       CMP              R9, #100
  106 0000005A D1E3            BNE              Mostra_1s
  107 0000005C         
  108 0000005C F10C 0C01       ADD              R12, #1
  109 00000060 4435            ADD              R5, R6
  110 00000062 2D63            CMP              R5, #99
  111 00000064 DCDA            BGT              MainLoop
  112 00000066 E7DB            B                Contagem
  113 00000068         
  114 00000068         
  115 00000068         ;-------------------------------------------------------
                       -------------------------
  116 00000068         ; Função Acrescenta_Contador
  117 00000068         ; Parâmetro de entrada: R6 -> passo de contagem
  118 00000068         ; Parâmetro de saída: R6 -> incrementado em um
  119 00000068         Acrescenta_Contador
  120 00000068 B500            PUSH             {LR}
  121 0000006A F000 F924       BL               Le_Botao_SW1
  122 0000006E F85D EB04       POP              {LR}
  123 00000072 F1BB 0F00       CMP              R11, #0
  124 00000076 D103            BNE              Fim_Acrescenta_Contador



ARM Macro Assembler    Page 4 


  125 00000078 2E09            CMP              R6, #9
  126 0000007A D001            BEQ              Fim_Acrescenta_Contador
  127 0000007C F106 0601       ADD              R6, #1
  128 00000080         Fim_Acrescenta_Contador
  129 00000080 4770            BX               LR
  130 00000082         
  131 00000082         ;-------------------------------------------------------
                       -------------------------
  132 00000082         ; Função Decrementa_Contador
  133 00000082         ; Parâmetro de entrada: R6 -> passo de contagem
  134 00000082         ; Parâmetro de saída: R6 -> decrementado em um
  135 00000082         Decrementa_Contador
  136 00000082 B500            PUSH             {LR}
  137 00000084 F000 F924       BL               Le_Botao_SW2
  138 00000088 F85D EB04       POP              {LR}
  139 0000008C F1BA 0F00       CMP              R10, #0
  140 00000090 D103            BNE              Fim_Decrementa_Contador
  141 00000092 2E01            CMP              R6, #1
  142 00000094 D001            BEQ              Fim_Decrementa_Contador
  143 00000096 F1A6 0601       SUB              R6, #1
  144 0000009A         Fim_Decrementa_Contador
  145 0000009A 4770            BX               LR
  146 0000009C         
  147 0000009C         ;-------------------------------------------------------
                       -------------------------
  148 0000009C         ; Função Mostra_Numero
  149 0000009C         ; Parâmetro de entrada: R0 -> número a ser escrito no di
                       splay
  150 0000009C         ; Parâmetro de saída: Não tem
  151 0000009C         Mostra_Numero
  152 0000009C F04F 010A       MOV              R1, #10
  153 000000A0 FBB0 F1F1       UDIV             R1, R0, R1  ; R1 tem o algarism
                                                            o da dezena
  154 000000A4 F04F 020A       MOV              R2, #10
  155 000000A8 FB01 F202       MUL              R2, R1, R2
  156 000000AC EBA0 0202       SUB              R2, R0, R2
  157 000000B0 4610            MOV              R0, R2      ; R0 tem o algarism
                                                            o da unidade
  158 000000B2 460F            MOV              R7, R1      ; R7 tem o algarism
                                                            o da dezena
  159 000000B4 B500            PUSH             {LR}
  160 000000B6         
  161 000000B6 F000 F81A       BL               Acende_Display_Unidade
  162 000000BA F04F 0005       MOV              R0, #5
  163 000000BE F7FF FFFE       BL               SysTick_Wait1ms
  164 000000C2 F000 F8B2       BL               Apaga_Display
  165 000000C6         
  166 000000C6 4638            MOV              R0, R7
  167 000000C8 F000 F89B       BL               Acende_Display_Dezena
  168 000000CC F04F 0005       MOV              R0, #5
  169 000000D0 F7FF FFFE       BL               SysTick_Wait1ms
  170 000000D4 F000 F8A9       BL               Apaga_Display
  171 000000D8         
  172 000000D8 F000 F81D       BL               Acende_LEDs
  173 000000DC F04F 0005       MOV              R0, #5
  174 000000E0 F7FF FFFE       BL               SysTick_Wait1ms
  175 000000E4 F000 F8A9       BL               Apaga_LEDs
  176 000000E8 F85D EB04       POP              {LR}
  177 000000EC 4770            BX               LR



ARM Macro Assembler    Page 5 


  178 000000EE         
  179 000000EE         ;-------------------------------------------------------
                       -------------------------
  180 000000EE         ; Função Acende_Display_Unidade
  181 000000EE         ; Parâmetro de entrada: R0 -> número a ser escrito no di
                       splay
  182 000000EE         ; Parâmetro de saída: Não tem
  183 000000EE         Acende_Display_Unidade
  184 000000EE B500            PUSH             {LR}
  185 000000F0 F000 F8AB       BL               Converte_Numero
  186 000000F4 4640            MOV              R0, R8
  187 000000F6 F7FF FFFE       BL               PortA_Output
  188 000000FA 4640            MOV              R0, R8
  189 000000FC F7FF FFFE       BL               PortQ_Output
  190 00000100 F04F 0020       MOV              R0, #2_00100000
  191 00000104 F7FF FFFE       BL               PortB_Output
  192 00000108 F04F 0001       MOV              R0, #1
  193 0000010C F7FF FFFE       BL               SysTick_Wait1ms
  194 00000110         
  195 00000110 F85D EB04       POP              {LR}
  196 00000114 4770            BX               LR
  197 00000116         
  198 00000116         ;-------------------------------------------------------
                       -------------------------
  199 00000116         ; Função Acende_LEDs
  200 00000116         ; Parâmetro de entrada: R7 -> contador para os LEDs
  201 00000116         ; Parâmetro de saída: Não tem
  202 00000116         Acende_LEDs
  203 00000116 B500            PUSH             {LR}
  204 00000118 F000 F816       BL               Converte_LEDs
  205 0000011C F1BC 0F10       CMP              R12, #16
  206 00000120 D101            BNE              LEDs
  207 00000122 F04F 0C00       MOV              R12, #0
  208 00000126         LEDs
  209 00000126 4680            MOV              R8, R0
  210 00000128 F7FF FFFE       BL               PortA_Output
  211 0000012C 4640            MOV              R0, R8
  212 0000012E F7FF FFFE       BL               PortQ_Output
  213 00000132 F04F 0040       MOV              R0, #2_01000000
  214 00000136 F7FF FFFE       BL               PortM_Output
  215 0000013A F04F 0001       MOV              R0, #1
  216 0000013E F7FF FFFE       BL               SysTick_Wait1ms
  217 00000142         
  218 00000142 F85D EB04       POP              {LR}
  219 00000146 4770            BX               LR
  220 00000148         
  221 00000148         ;-------------------------------------------------------
                       -------------------------
  222 00000148         ; Função Converte_LEDs
  223 00000148         ; Parâmetro de entrada: R12 -> número a ser convertido
  224 00000148         ; Parâmetro de saída: R0 -> sequência a ser escrita nos 
                       LEDs
  225 00000148         Converte_LEDs
  226 00000148 F1BC 0F01       CMP              R12, #1
  227 0000014C D102            BNE              Dois_LEDs
  228 0000014E F04F 0001       MOV              R0, #2_00000001
  229 00000152 4770            BX               LR
  230 00000154         Dois_LEDs
  231 00000154 F1BC 0F02       CMP              R12, #2



ARM Macro Assembler    Page 6 


  232 00000158 D102            BNE              Tres_LEDs
  233 0000015A F04F 0003       MOV              R0, #2_00000011
  234 0000015E 4770            BX               LR
  235 00000160         Tres_LEDs
  236 00000160 F1BC 0F03       CMP              R12, #3
  237 00000164 D102            BNE              Quatro_LEDs
  238 00000166 F04F 0007       MOV              R0, #2_00000111
  239 0000016A 4770            BX               LR
  240 0000016C         Quatro_LEDs
  241 0000016C F1BC 0F04       CMP              R12, #4
  242 00000170 D102            BNE              Cinco_LEDs
  243 00000172 F04F 000F       MOV              R0, #2_00001111
  244 00000176 4770            BX               LR
  245 00000178         Cinco_LEDs
  246 00000178 F1BC 0F05       CMP              R12, #5
  247 0000017C D102            BNE              Seis_LEDs
  248 0000017E F04F 001F       MOV              R0, #2_00011111
  249 00000182 4770            BX               LR
  250 00000184         Seis_LEDs
  251 00000184 F1BC 0F06       CMP              R12, #6
  252 00000188 D102            BNE              Sete_LEDs
  253 0000018A F04F 003F       MOV              R0, #2_00111111
  254 0000018E 4770            BX               LR
  255 00000190         Sete_LEDs
  256 00000190 F1BC 0F07       CMP              R12, #7
  257 00000194 D102            BNE              Oito_LEDs
  258 00000196 F04F 007F       MOV              R0, #2_01111111
  259 0000019A 4770            BX               LR
  260 0000019C         Oito_LEDs
  261 0000019C F1BC 0F08       CMP              R12, #8
  262 000001A0 D102            BNE              Nove_LEDs
  263 000001A2 F04F 00FF       MOV              R0, #2_11111111
  264 000001A6 4770            BX               LR
  265 000001A8         Nove_LEDs
  266 000001A8 F1BC 0F09       CMP              R12, #9
  267 000001AC D102            BNE              Dez_LEDs
  268 000001AE F04F 00FE       MOV              R0, #2_11111110
  269 000001B2 4770            BX               LR
  270 000001B4         Dez_LEDs
  271 000001B4 F1BC 0F0A       CMP              R12, #10
  272 000001B8 D102            BNE              Onze_LEDs
  273 000001BA F04F 00FC       MOV              R0, #2_11111100
  274 000001BE 4770            BX               LR
  275 000001C0         Onze_LEDs
  276 000001C0 F1BC 0F0B       CMP              R12, #11
  277 000001C4 D102            BNE              Doze_LEDs
  278 000001C6 F04F 00F8       MOV              R0, #2_11111000
  279 000001CA 4770            BX               LR
  280 000001CC         Doze_LEDs
  281 000001CC F1BC 0F0C       CMP              R12, #12
  282 000001D0 D102            BNE              Treze_LEDs
  283 000001D2 F04F 00F0       MOV              R0, #2_11110000
  284 000001D6 4770            BX               LR
  285 000001D8         Treze_LEDs
  286 000001D8 F1BC 0F0D       CMP              R12, #13
  287 000001DC D102            BNE              Quatorze_LEDs
  288 000001DE F04F 00E0       MOV              R0, #2_11100000
  289 000001E2 4770            BX               LR
  290 000001E4         Quatorze_LEDs



ARM Macro Assembler    Page 7 


  291 000001E4 F1BC 0F0E       CMP              R12, #14
  292 000001E8 D102            BNE              Quinze_LEDs
  293 000001EA F04F 00C0       MOV              R0, #2_11000000
  294 000001EE 4770            BX               LR
  295 000001F0         Quinze_LEDs
  296 000001F0 F1BC 0F0F       CMP              R12, #15
  297 000001F4 D102            BNE              Dezesseis_LEDs
  298 000001F6 F04F 0080       MOV              R0, #2_10000000
  299 000001FA 4770            BX               LR
  300 000001FC         Dezesseis_LEDs
  301 000001FC F04F 0000       MOV              R0, #2_00000000
  302 00000200 4770            BX               LR
  303 00000202         
  304 00000202         
  305 00000202         ;-------------------------------------------------------
                       -------------------------
  306 00000202         ; Função Acende_Display_Dezena
  307 00000202         ; Parâmetro de entrada: R0 -> número a ser escrito no di
                       splay
  308 00000202         ; Parâmetro de saída: Não tem
  309 00000202         Acende_Display_Dezena
  310 00000202 B500            PUSH             {LR}
  311 00000204 F000 F821       BL               Converte_Numero
  312 00000208 4680            MOV              R8, R0
  313 0000020A F7FF FFFE       BL               PortA_Output
  314 0000020E 4640            MOV              R0, R8
  315 00000210 F7FF FFFE       BL               PortQ_Output
  316 00000214 F04F 0010       MOV              R0, #2_00010000
  317 00000218 F7FF FFFE       BL               PortB_Output
  318 0000021C F04F 0001       MOV              R0, #1
  319 00000220 F7FF FFFE       BL               SysTick_Wait1ms
  320 00000224 F85D EB04       POP              {LR}
  321 00000228 4770            BX               LR
  322 0000022A         
  323 0000022A         ;-------------------------------------------------------
                       -------------------------
  324 0000022A         ; Função Apaga_Display
  325 0000022A         ; Parâmetro de entrada: Não tem
  326 0000022A         ; Parâmetro de saída: Não tem
  327 0000022A         Apaga_Display
  328 0000022A B500            PUSH             {LR}
  329 0000022C F04F 0000       MOV              R0, #2_00000000
  330 00000230 F7FF FFFE       BL               PortB_Output
  331 00000234 F85D EB04       POP              {LR}
  332 00000238 4770            BX               LR
  333 0000023A         
  334 0000023A         ;-------------------------------------------------------
                       -------------------------
  335 0000023A         ; Função Apaga_LEDs
  336 0000023A         ; Parâmetro de entrada: Não tem
  337 0000023A         ; Parâmetro de saída: Não tem
  338 0000023A         Apaga_LEDs
  339 0000023A B500            PUSH             {LR}
  340 0000023C F04F 0000       MOV              R0, #2_00000000
  341 00000240 F7FF FFFE       BL               PortM_Output
  342 00000244 F85D EB04       POP              {LR}
  343 00000248 4770            BX               LR
  344 0000024A         
  345 0000024A         ;-------------------------------------------------------



ARM Macro Assembler    Page 8 


                       -------------------------
  346 0000024A         ; Função Converte_Numero
  347 0000024A         ; Parâmetro de entrada: R0 -> número a ser escrito no di
                       splay
  348 0000024A         ; Parâmetro de saída: R0 -> npumer convertido para BCD
  349 0000024A         Converte_Numero
  350 0000024A 2800            CMP              R0, #0
  351 0000024C D102            BNE              Um
  352 0000024E F04F 083F       MOV              R8, #2_00111111
  353 00000252 E02E            B                Fim_Converte_Numero
  354 00000254         Um
  355 00000254 2801            CMP              R0, #1
  356 00000256 D102            BNE              Dois
  357 00000258 F04F 0806       MOV              R8, #2_00000110
  358 0000025C E029            B                Fim_Converte_Numero
  359 0000025E         Dois
  360 0000025E 2802            CMP              R0, #2
  361 00000260 D102            BNE              Tres
  362 00000262 F04F 085B       MOV              R8, #2_01011011
  363 00000266 E024            B                Fim_Converte_Numero
  364 00000268         Tres
  365 00000268 2803            CMP              R0, #3
  366 0000026A D102            BNE              Quatro
  367 0000026C F04F 084F       MOV              R8, #2_01001111
  368 00000270 E01F            B                Fim_Converte_Numero
  369 00000272         Quatro
  370 00000272 2804            CMP              R0, #4
  371 00000274 D102            BNE              Cinco
  372 00000276 F04F 0866       MOV              R8, #2_01100110
  373 0000027A E01A            B                Fim_Converte_Numero
  374 0000027C         Cinco
  375 0000027C 2805            CMP              R0, #5
  376 0000027E D102            BNE              Seis
  377 00000280 F04F 086D       MOV              R8, #2_01101101
  378 00000284 E015            B                Fim_Converte_Numero
  379 00000286         Seis
  380 00000286 2806            CMP              R0, #6
  381 00000288 D102            BNE              Sete
  382 0000028A F04F 087D       MOV              R8, #2_01111101
  383 0000028E E010            B                Fim_Converte_Numero
  384 00000290         Sete
  385 00000290 2807            CMP              R0, #7
  386 00000292 D102            BNE              Oito
  387 00000294 F04F 0807       MOV              R8, #2_00000111
  388 00000298 E00B            B                Fim_Converte_Numero
  389 0000029A         Oito
  390 0000029A 2808            CMP              R0, #8
  391 0000029C D102            BNE              Nove
  392 0000029E F04F 087F       MOV              R8, #2_01111111
  393 000002A2 E006            B                Fim_Converte_Numero
  394 000002A4         Nove
  395 000002A4 2809            CMP              R0, #9
  396 000002A6 D102            BNE              Apaga
  397 000002A8 F04F 086F       MOV              R8, #2_01101111
  398 000002AC E001            B                Fim_Converte_Numero
  399 000002AE         Apaga
  400 000002AE F04F 0800       MOV              R8, #2_00000000
  401 000002B2         Fim_Converte_Numero
  402 000002B2 4640            MOV              R0, R8



ARM Macro Assembler    Page 9 


  403 000002B4 4770            BX               LR
  404 000002B6         
  405 000002B6         ;-------------------------------------------------------
                       -------------------------
  406 000002B6         ; Função Le_Botao_SW1
  407 000002B6         ; Parâmetro de entrada: Não tem
  408 000002B6         ; Parâmetro de saída: R11 -> se o botão está apertado (1
                       ) ou solto (0)
  409 000002B6         
  410 000002B6         Le_Botao_SW1
  411 000002B6 B500            PUSH             {LR}
  412 000002B8 F7FF FFFE       BL               PortJ_Input
  413 000002BC F85D EB04       POP              {LR}
  414 000002C0 2802            CMP              R0, #2_00000010
  415 000002C2 D002            BEQ              Seta_SW1
  416 000002C4 F04F 0B00       MOV              R11, #0
  417 000002C8 4770            BX               LR
  418 000002CA         Seta_SW1
  419 000002CA F04F 0B01       MOV              R11, #1
  420 000002CE 4770            BX               LR
  421 000002D0         
  422 000002D0         ;-------------------------------------------------------
                       -------------------------
  423 000002D0         ; Função Le_Botao_SW2
  424 000002D0         ; Parâmetro de entrada: Não tem
  425 000002D0         ; Parâmetro de saída: R11 -> se o botão está apertado (1
                       ) ou solto (0)
  426 000002D0         
  427 000002D0         Le_Botao_SW2
  428 000002D0 B500            PUSH             {LR}
  429 000002D2 F7FF FFFE       BL               PortJ_Input
  430 000002D6 F85D EB04       POP              {LR}
  431 000002DA 2801            CMP              R0, #2_00000001
  432 000002DC D002            BEQ              Seta_SW2
  433 000002DE F04F 0A00       MOV              R10, #0
  434 000002E2 4770            BX               LR
  435 000002E4         Seta_SW2
  436 000002E4 F04F 0A01       MOV              R10, #1
  437 000002E8 4770            BX               LR
  438 000002EA         
  439 000002EA         
  440 000002EA         ;-------------------------------------------------------
                       -------------------------
  441 000002EA         ; Função Pisca_LED
  442 000002EA         ; Parâmetro de entrada: Não tem
  443 000002EA         ; Parâmetro de saída: Não tem
  444 000002EA         ; Tem que fazer o LED piscar
  445 000002EA         ;Pisca_LED
  446 000002EA         ; MOV R0, #2_00000001    ;Setar o parâmetro de entrada d
                       a função como o BIT0
  447 000002EA         ; PUSH {LR}
  448 000002EA         ; BL PortF_Output     ;Chamar a função para setar o LED4
                       
  449 000002EA         ; MOV R0, #1000     ; parâmetro da função SysTick_Wait1m
                       s
  450 000002EA         ; BL SysTick_Wait1ms
  451 000002EA         ; MOV R0, #2_00000000
  452 000002EA         ; BL PortF_Output     ;Chamar a função para desligar o L
                       ED4



ARM Macro Assembler    Page 10 


  453 000002EA         ; MOV R0, #1000     ; parâmetro da função SysTick_Wait1m
                       s
  454 000002EA         ; BL SysTick_Wait1ms
  455 000002EA         ; POP {LR}
  456 000002EA         ; BX LR
  457 000002EA         
  458 000002EA         ; ****************************************
  459 000002EA         ; Escrever função que acende o LED, espera 1 segundo, ap
                       aga o LED e espera 1 s
  460 000002EA         ; Esta função deve chamar a rotina SysTick_Wait1ms com o
                        parâmetro de entrada em R0
  461 000002EA         ; ****************************************
  462 000002EA         
  463 000002EA         ; ------------------------------------------------------
                       --------------------------------------------------------
                       -----------
  464 000002EA         ; Fim do Arquivo
  465 000002EA         ; ------------------------------------------------------
                       --------------------------------------------------------
                       ----------- 
  466 000002EA 00 00           ALIGN                        ;Garante que o fim 
                                                            da seção está alinh
                                                            ada 
  467 000002EC                 END                          ;Fim do arquivo
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\main.d -o.\objects\main.o -I.\RTE\_Target_1 -IC:\Keil
_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C129 -IC:\Keil_v5\ARM\CMSIS\
Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526" --
predefine="TM4C1294NCPDT SETA 1" --list=.\listings\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DATA 00000000

Symbol: DATA
   Definitions
      At line 41 in file main.s
   Uses
      None
Comment: DATA unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 52 in file main.s
   Uses
      None
Comment: .text unused
Acende_Display_Dezena 00000202

Symbol: Acende_Display_Dezena
   Definitions
      At line 309 in file main.s
   Uses
      At line 167 in file main.s
Comment: Acende_Display_Dezena used once
Acende_Display_Unidade 000000EE

Symbol: Acende_Display_Unidade
   Definitions
      At line 183 in file main.s
   Uses
      At line 161 in file main.s
Comment: Acende_Display_Unidade used once
Acende_LEDs 00000116

Symbol: Acende_LEDs
   Definitions
      At line 202 in file main.s
   Uses
      At line 172 in file main.s
Comment: Acende_LEDs used once
Acrescenta_Contador 00000068

Symbol: Acrescenta_Contador
   Definitions
      At line 119 in file main.s
   Uses
      At line 94 in file main.s
Comment: Acrescenta_Contador used once
Apaga 000002AE

Symbol: Apaga
   Definitions
      At line 399 in file main.s
   Uses
      At line 396 in file main.s
Comment: Apaga used once
Apaga_Display 0000022A

Symbol: Apaga_Display
   Definitions
      At line 327 in file main.s
   Uses
      At line 164 in file main.s
      At line 170 in file main.s

Apaga_LEDs 0000023A




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: Apaga_LEDs
   Definitions
      At line 338 in file main.s
   Uses
      At line 175 in file main.s
Comment: Apaga_LEDs used once
Cinco 0000027C

Symbol: Cinco
   Definitions
      At line 374 in file main.s
   Uses
      At line 371 in file main.s
Comment: Cinco used once
Cinco_LEDs 00000178

Symbol: Cinco_LEDs
   Definitions
      At line 245 in file main.s
   Uses
      At line 242 in file main.s
Comment: Cinco_LEDs used once
Contagem 00000020

Symbol: Contagem
   Definitions
      At line 90 in file main.s
   Uses
      At line 112 in file main.s
Comment: Contagem used once
Converte_LEDs 00000148

Symbol: Converte_LEDs
   Definitions
      At line 225 in file main.s
   Uses
      At line 204 in file main.s
Comment: Converte_LEDs used once
Converte_Numero 0000024A

Symbol: Converte_Numero
   Definitions
      At line 349 in file main.s
   Uses
      At line 185 in file main.s
      At line 311 in file main.s

Decrementa_Contador 00000082

Symbol: Decrementa_Contador
   Definitions
      At line 135 in file main.s
   Uses
      At line 96 in file main.s
Comment: Decrementa_Contador used once
Dez_LEDs 000001B4

Symbol: Dez_LEDs
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

      At line 270 in file main.s
   Uses
      At line 267 in file main.s
Comment: Dez_LEDs used once
Dezesseis_LEDs 000001FC

Symbol: Dezesseis_LEDs
   Definitions
      At line 300 in file main.s
   Uses
      At line 297 in file main.s
Comment: Dezesseis_LEDs used once
Dois 0000025E

Symbol: Dois
   Definitions
      At line 359 in file main.s
   Uses
      At line 356 in file main.s
Comment: Dois used once
Dois_LEDs 00000154

Symbol: Dois_LEDs
   Definitions
      At line 230 in file main.s
   Uses
      At line 227 in file main.s
Comment: Dois_LEDs used once
Doze_LEDs 000001CC

Symbol: Doze_LEDs
   Definitions
      At line 280 in file main.s
   Uses
      At line 277 in file main.s
Comment: Doze_LEDs used once
Fim_Acrescenta_Contador 00000080

Symbol: Fim_Acrescenta_Contador
   Definitions
      At line 128 in file main.s
   Uses
      At line 124 in file main.s
      At line 126 in file main.s

Fim_Converte_Numero 000002B2

Symbol: Fim_Converte_Numero
   Definitions
      At line 401 in file main.s
   Uses
      At line 353 in file main.s
      At line 358 in file main.s
      At line 363 in file main.s
      At line 368 in file main.s
      At line 373 in file main.s
      At line 378 in file main.s
      At line 383 in file main.s
      At line 388 in file main.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

      At line 393 in file main.s
      At line 398 in file main.s

Fim_Decrementa_Contador 0000009A

Symbol: Fim_Decrementa_Contador
   Definitions
      At line 144 in file main.s
   Uses
      At line 140 in file main.s
      At line 142 in file main.s

LEDs 00000126

Symbol: LEDs
   Definitions
      At line 208 in file main.s
   Uses
      At line 206 in file main.s
Comment: LEDs used once
Le_Botao_SW1 000002B6

Symbol: Le_Botao_SW1
   Definitions
      At line 410 in file main.s
   Uses
      At line 101 in file main.s
      At line 121 in file main.s

Le_Botao_SW2 000002D0

Symbol: Le_Botao_SW2
   Definitions
      At line 427 in file main.s
   Uses
      At line 103 in file main.s
      At line 137 in file main.s

MainLoop 0000001C

Symbol: MainLoop
   Definitions
      At line 88 in file main.s
   Uses
      At line 111 in file main.s
Comment: MainLoop used once
Mostra_1s 00000024

Symbol: Mostra_1s
   Definitions
      At line 92 in file main.s
   Uses
      At line 106 in file main.s
Comment: Mostra_1s used once
Mostra_Numero 0000009C

Symbol: Mostra_Numero
   Definitions
      At line 151 in file main.s



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Relocatable symbols

   Uses
      At line 99 in file main.s
Comment: Mostra_Numero used once
Nove 000002A4

Symbol: Nove
   Definitions
      At line 394 in file main.s
   Uses
      At line 391 in file main.s
Comment: Nove used once
Nove_LEDs 000001A8

Symbol: Nove_LEDs
   Definitions
      At line 265 in file main.s
   Uses
      At line 262 in file main.s
Comment: Nove_LEDs used once
Oito 0000029A

Symbol: Oito
   Definitions
      At line 389 in file main.s
   Uses
      At line 386 in file main.s
Comment: Oito used once
Oito_LEDs 0000019C

Symbol: Oito_LEDs
   Definitions
      At line 260 in file main.s
   Uses
      At line 257 in file main.s
Comment: Oito_LEDs used once
Onze_LEDs 000001C0

Symbol: Onze_LEDs
   Definitions
      At line 275 in file main.s
   Uses
      At line 272 in file main.s
Comment: Onze_LEDs used once
Quatorze_LEDs 000001E4

Symbol: Quatorze_LEDs
   Definitions
      At line 290 in file main.s
   Uses
      At line 287 in file main.s
Comment: Quatorze_LEDs used once
Quatro 00000272

Symbol: Quatro
   Definitions
      At line 369 in file main.s
   Uses
      At line 366 in file main.s
Comment: Quatro used once



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Relocatable symbols

Quatro_LEDs 0000016C

Symbol: Quatro_LEDs
   Definitions
      At line 240 in file main.s
   Uses
      At line 237 in file main.s
Comment: Quatro_LEDs used once
Quinze_LEDs 000001F0

Symbol: Quinze_LEDs
   Definitions
      At line 295 in file main.s
   Uses
      At line 292 in file main.s
Comment: Quinze_LEDs used once
Seis 00000286

Symbol: Seis
   Definitions
      At line 379 in file main.s
   Uses
      At line 376 in file main.s
Comment: Seis used once
Seis_LEDs 00000184

Symbol: Seis_LEDs
   Definitions
      At line 250 in file main.s
   Uses
      At line 247 in file main.s
Comment: Seis_LEDs used once
Seta_SW1 000002CA

Symbol: Seta_SW1
   Definitions
      At line 418 in file main.s
   Uses
      At line 415 in file main.s
Comment: Seta_SW1 used once
Seta_SW2 000002E4

Symbol: Seta_SW2
   Definitions
      At line 435 in file main.s
   Uses
      At line 432 in file main.s
Comment: Seta_SW2 used once
Sete 00000290

Symbol: Sete
   Definitions
      At line 384 in file main.s
   Uses
      At line 381 in file main.s
Comment: Sete used once
Sete_LEDs 00000190

Symbol: Sete_LEDs



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 255 in file main.s
   Uses
      At line 252 in file main.s
Comment: Sete_LEDs used once
Start 00000000

Symbol: Start
   Definitions
      At line 74 in file main.s
   Uses
      At line 55 in file main.s
Comment: Start used once
Tres 00000268

Symbol: Tres
   Definitions
      At line 364 in file main.s
   Uses
      At line 361 in file main.s
Comment: Tres used once
Tres_LEDs 00000160

Symbol: Tres_LEDs
   Definitions
      At line 235 in file main.s
   Uses
      At line 232 in file main.s
Comment: Tres_LEDs used once
Treze_LEDs 000001D8

Symbol: Treze_LEDs
   Definitions
      At line 285 in file main.s
   Uses
      At line 282 in file main.s
Comment: Treze_LEDs used once
Um 00000254

Symbol: Um
   Definitions
      At line 354 in file main.s
   Uses
      At line 351 in file main.s
Comment: Um used once
48 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

PA0 00000030

Symbol: PA0
   Definitions
      At line 26 in file main.s
   Uses
      None
Comment: PA0 unused
PA1 00000000

Symbol: PA1
   Definitions
      At line 27 in file main.s
   Uses
      None
Comment: PA1 unused
PA2 00000050

Symbol: PA2
   Definitions
      At line 28 in file main.s
   Uses
      None
Comment: PA2 unused
PA3 00000040

Symbol: PA3
   Definitions
      At line 29 in file main.s
   Uses
      None
Comment: PA3 unused
PA4 00000060

Symbol: PA4
   Definitions
      At line 30 in file main.s
   Uses
      None
Comment: PA4 unused
PA5 00000060

Symbol: PA5
   Definitions
      At line 31 in file main.s
   Uses
      None
Comment: PA5 unused
PA6 00000070

Symbol: PA6
   Definitions
      At line 32 in file main.s
   Uses
      None
Comment: PA6 unused
PA7 00000000

Symbol: PA7



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 33 in file main.s
   Uses
      None
Comment: PA7 unused
PA8 00000070

Symbol: PA8
   Definitions
      At line 34 in file main.s
   Uses
      None
Comment: PA8 unused
PA9 00000060

Symbol: PA9
   Definitions
      At line 35 in file main.s
   Uses
      None
Comment: PA9 unused
PQ0 0000000F

Symbol: PQ0
   Definitions
      At line 15 in file main.s
   Uses
      None
Comment: PQ0 unused
PQ1 00000006

Symbol: PQ1
   Definitions
      At line 16 in file main.s
   Uses
      None
Comment: PQ1 unused
PQ2 0000000B

Symbol: PQ2
   Definitions
      At line 17 in file main.s
   Uses
      None
Comment: PQ2 unused
PQ3 0000000F

Symbol: PQ3
   Definitions
      At line 18 in file main.s
   Uses
      None
Comment: PQ3 unused
PQ4 00000006

Symbol: PQ4
   Definitions
      At line 19 in file main.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      None
Comment: PQ4 unused
PQ5 0000000D

Symbol: PQ5
   Definitions
      At line 20 in file main.s
   Uses
      None
Comment: PQ5 unused
PQ6 0000000D

Symbol: PQ6
   Definitions
      At line 21 in file main.s
   Uses
      None
Comment: PQ6 unused
PQ7 00000007

Symbol: PQ7
   Definitions
      At line 22 in file main.s
   Uses
      None
Comment: PQ7 unused
PQ8 0000000F

Symbol: PQ8
   Definitions
      At line 23 in file main.s
   Uses
      None
Comment: PQ8 unused
PQ9 0000000F

Symbol: PQ9
   Definitions
      At line 24 in file main.s
   Uses
      None
Comment: PQ9 unused
20 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

GPIO_Init 00000000

Symbol: GPIO_Init
   Definitions
      At line 64 in file main.s
   Uses
      At line 77 in file main.s
Comment: GPIO_Init used once
PLL_Init 00000000

Symbol: PLL_Init
   Definitions
      At line 61 in file main.s
   Uses
      At line 75 in file main.s
Comment: PLL_Init used once
PortA_Output 00000000

Symbol: PortA_Output
   Definitions
      At line 65 in file main.s
   Uses
      At line 187 in file main.s
      At line 210 in file main.s
      At line 313 in file main.s

PortB_Output 00000000

Symbol: PortB_Output
   Definitions
      At line 67 in file main.s
   Uses
      At line 191 in file main.s
      At line 317 in file main.s
      At line 330 in file main.s

PortJ_Input 00000000

Symbol: PortJ_Input
   Definitions
      At line 69 in file main.s
   Uses
      At line 412 in file main.s
      At line 429 in file main.s

PortM_Output 00000000

Symbol: PortM_Output
   Definitions
      At line 68 in file main.s
   Uses
      At line 214 in file main.s
      At line 341 in file main.s

PortQ_Output 00000000

Symbol: PortQ_Output
   Definitions
      At line 66 in file main.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols

   Uses
      At line 189 in file main.s
      At line 212 in file main.s
      At line 315 in file main.s

SysTick_Init 00000000

Symbol: SysTick_Init
   Definitions
      At line 62 in file main.s
   Uses
      At line 76 in file main.s
Comment: SysTick_Init used once
SysTick_Wait1ms 00000000

Symbol: SysTick_Wait1ms
   Definitions
      At line 63 in file main.s
   Uses
      At line 163 in file main.s
      At line 169 in file main.s
      At line 174 in file main.s
      At line 193 in file main.s
      At line 216 in file main.s
      At line 319 in file main.s

9 symbols
412 symbols in table
